<!DOCTYPE html>
<html âš¡>
  <head>
    <meta charset="utf-8">
    <title>Use Cases</title>
    <link rel="canonical" href="https://www.ampproject.org/docs/guides/analytics/use_cases.html">
    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">

    <meta property="og:description" content="This guide provides a set of common use cases for tracking user engagement:">
    <meta name="description" content="This guide provides a set of common use cases for tracking user engagement:">
    <link rel="shortcut icon" href="/docs/assets/amp_favicon.png?v=2">

    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <script async custom-element="amp-youtube" src="https://cdn.ampproject.org/v0/amp-youtube-0.1.js"></script>

    <style amp-custom>
    body,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}html,body{background-color:#fbfafb;font-family:Roboto,verdana,arial,sans-serif;margin:0;overflow-x:hidden;padding:0}body{padding-top:66px}ul li,ol li{color:#333;font-size:16px;font-weight:300;line-height:24px}p{color:#333;font-size:16px;font-weight:300;line-height:24px}.container{box-sizing:border-box;margin:0 auto;max-width:1000px;padding:0 20px}.container.md{max-width:800px}.wrap{background-color:#fff;margin:0 auto}.centered{text-align:center}@media only screen and (max-width: 870px){.centered{text-align:left}}.align-right{text-align:right}.clearfix:after{content:"";display:table;clear:both}.clearfix .left{float:left}.clearfix .right{float:right}.clearfix .fill{overflow:hidden;width:auto}h1,h2,h3,h4,h5{color:#147bc1;font-weight:300;margin-top:1.1em;margin-bottom:0.5em}h1{font-size:43px}h2{font-size:36px}h3{font-size:26px}a{color:#0360B5;text-decoration:none}a:hover{text-decoration:underline}a.button{padding:1em;display:block;background-color:#F5F5F5;text-align:center}blockquote{color:#797c82;border-left:4px solid #f5f5f5;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}code{font-size:15px;border:1px solid #f5f5f5;border-radius:3px}code{padding:1px 5px}table{border-collapse:collapse}td,th{border:1px solid #FFFFFF;background:#F7F7F7;padding:0.5rem;text-align:left}th{background:#eee}header{-webkit-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;-moz-box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;box-shadow:rgba(0,0,0,0.15) 1px 1px 14px;font-size:14px;font-weight:300;transform:translateZ(0);backface-visibility:hidden;background-color:#fff}header .container{padding:0}@media only screen and (max-width: 870px){header .container{padding:0 10px}}header.absolute,header.fixed{-moz-transform:translateY(0%);-o-transform:translateY(0%);-ms-transform:translateY(0%);-webkit-transform:translateY(0%);transform:translateY(0%);-moz-transition:all 0.25s ease;-o-transition:all 0.25s ease;-ms-transition:all 0.25s ease;-webkit-transition:all 0.25s ease;transition:all 0.25s ease;left:0;position:fixed;top:0;width:100%;z-index:1000}header.absolute{position:absolute}header.nav--pinned,header.nav--unpinned,header.nav--top{position:fixed}@media only screen and (max-width: 870px){header.nav--pinned,header.nav--unpinned,header.nav--top{position:relative}}header.nav--pinned,header.nav--unpinned{background:#147bc1}header.nav--top{background-color:transparent}header.hidden{display:block}@media only screen and (max-width: 870px){header.hidden{-moz-transform:translateY(-100%);-o-transform:translateY(-100%);-ms-transform:translateY(-100%);-webkit-transform:translateY(-100%);transform:translateY(-100%)}}header.menu-open{transform:translate(-243px, 0px)}@media only screen and (max-width: 870px){header .wrap{color:transparent}}header .content.mobile-show{padding:0 10px 5px}header .left-nav{-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;float:left;font-size:14px;letter-spacing:0.04em;margin-left:0}@media only screen and (max-width: 870px){header .left-nav{-webkit-box-pack:start;-moz-box-pack:start;box-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;-o-justify-content:flex-start;justify-content:flex-start;-ms-flex-pack:start;flex:1 1 auto;padding:0 0 5px 0;text-align:left;width:auto}}header .left-nav .header-title{background-image:url("/docs/assets/logo-blue.svg");background-position:center left;background-repeat:no-repeat;background-size:40px 40px;color:#147bc1;font-family:Roboto, verdana, arial, sans-serif;margin:10px 0;padding:15px 10px 15px 50px;text-transform:none;white-space:nowrap;width:auto}@media only screen and (max-width: 870px){header .left-nav .header-title{line-height:41px;margin:6px 0;padding:0 0 0 50px;width:auto}}@media only screen and (max-width: 870px){header .clearfix{display:flex;flex-wrap:wrap-reverse}}header .alt{padding:15px 0;text-align:right;display:-webkit-box;display:-moz-box;display:box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-moz-box-align:center;box-align:center;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-ms-flex-align:center;-webkit-box-pack:center;-moz-box-pack:center;box-pack:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-ms-flex-pack:center}header .alt.right{letter-spacing:0.04em;font-size:14px}@media only screen and (max-width: 870px){header .alt.right{float:right;text-align:center;flex:0;padding:0 0 10px;font-size:12px;display:inline-block}}header .tab{color:#147bc1;display:inline-block;padding:10px 15px;text-decoration:none;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab{margin-left:auto;padding:10px 12px}}header .tab.go-button{-webkit-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);-moz-box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);box-shadow:-1px 6px 6px -3px rgba(0,0,0,0.22);background-color:#147bc1;border:0;border-radius:4px;color:#fff;font-family:Roboto, verdana, arial, sans-serif;font-size:14px;font-weight:500;padding:10px 20px;margin-left:10px;text-transform:uppercase}@media only screen and (max-width: 870px){header .tab.go-button{margin-right:5px;margin-left:auto;padding:8px 10px}}header .tab.go-button:hover{text-decoration:none}header .tab.hamburger{font-size:30px;display:none}@media only screen and (max-width: 870px){header .tab.desktop{display:none}header .tab.hamburger{display:inline-block}}.main{display:-webkit-flex;display:flex;padding-top:40px;padding-bottom:30px}.main h1{margin-top:0}.main h1:before,.main h2:before,.main h3:before,.main h4:before,.main h5:before{display:block;content:" ";margin-top:-106px;height:106px;visibility:hidden}.main .content{flex-grow:1;-webkit-flex-grow:1;transition:all 0.25s ease;transform:translate(0, 0);will-change:transform;word-break:break-word;min-width:0}.main .content.menu-open{transform:translate(-243px, 0)}.main .content ul,.main .content ol{margin-left:40px}.main .content{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.main amp-img,.main amp-youtube,.main amp-iframe{margin:1em 0}nav{border-right:2px solid #E6E6E6;padding:20px;margin-right:30px;margin-left:-20px;width:200px;flex-shrink:0;-webkit-flex-shrink:0;background:#F7F7F7;margin-top:-40px;margin-bottom:-30px}nav h2{font-size:20px;color:#111;margin-top:0;margin-bottom:10px}nav ul li,nav ol li{margin-bottom:10px;list-style:none}nav ul li ul,nav ul li ol,nav ol li ul,nav ol li ol{padding-left:0;margin-left:20px;margin-bottom:1.2em}nav ul li ul li,nav ul li ol li,nav ol li ul li,nav ol li ol li{margin-bottom:6px;font-size:14px;list-style:square;color:#CECECE}nav ul li ul li.current,nav ul li ol li.current,nav ol li ul li.current,nav ol li ol li.current{color:#222}nav ul li ul li span,nav ul li ol li span,nav ol li ul li span,nav ol li ol li span{font-weight:400;color:#222}nav ul li ul li ul,nav ul li ul li ol,nav ul li ol li ul,nav ul li ol li ol,nav ol li ul li ul,nav ol li ul li ol,nav ol li ol li ul,nav ol li ol li ol{margin-bottom:0;margin-left:0;padding-left:20px;border-top:1px solid #eee;padding-top:3px;padding-bottom:0px}nav ul li ul li ol li,nav ul li ol li ol li,nav ol li ul li ol li,nav ol li ol li ol li{list-style:decimal}@media only screen and (max-width: 870px){nav{-webkit-order:1;order:1;border-left:2px solid #E6E6E6;margin-left:30px;margin-right:0;border-right:none;margin-top:0;position:absolute;top:0;right:0;transform:translate(243px, 0);transition:all 0.25s ease;will-change:transform}nav.menu-open{transform:translate(0, 0)}}pre{overflow:auto;tab-size:2;word-break:normal;line-height:1.4;background:#F7F7F7}pre>code{white-space:pre;word-wrap:initial;display:block}pre>code td{border:0}.highlight .hll{background-color:#ffc}.highlight .c{color:#aaaaaa;font-style:italic}.highlight .err{color:#F00000}.highlight .k{color:#00a}.highlight .cm{color:#aaaaaa;font-style:italic}.highlight .cp{color:#4c8317}.highlight .c1{color:#aaaaaa;font-style:italic}.highlight .cs{color:#0000aa;font-style:italic}.highlight .gd{color:#a00}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#000080;font-weight:bold}.highlight .gi{color:#0a0}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc{color:#00a}.highlight .kd{color:#00a}.highlight .kn{color:#00a}.highlight .kp{color:#00a}.highlight .kr{color:#00a}.highlight .kt{color:#0aa}.highlight .m{color:#099}.highlight .s{color:#a50}.highlight .na{color:#1e90ff}.highlight .nb{color:#0aa}.highlight .nc{color:#00aa00;text-decoration:underline}.highlight .no{color:#a00}.highlight .nd{color:#888}.highlight .ni{color:#800000;font-weight:bold}.highlight .nf{color:#0a0}.highlight .nn{color:#00aaaa;text-decoration:underline}.highlight .nt{color:#1e90ff;font-weight:bold}.highlight .nv{color:#a00}.highlight .ow{color:#00a}.highlight .w{color:#bbb}.highlight .mf{color:#099}.highlight .mh{color:#099}.highlight .mi{color:#099}.highlight .mo{color:#099}.highlight .sb{color:#a50}.highlight .sc{color:#a50}.highlight .sd{color:#a50}.highlight .s2{color:#a50}.highlight .se{color:#a50}.highlight .sh{color:#a50}.highlight .si{color:#a50}.highlight .sx{color:#a50}.highlight .sr{color:#099}.highlight .s1{color:#a50}.highlight .ss{color:#00a}.highlight .bp{color:#0aa}.highlight .vc{color:#a00}.highlight .vg{color:#a00}.highlight .vi{color:#a00}.highlight .il{color:#099}.highlight .lineno{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none}.lineno::-moz-selection{background-color:transparent}.lineno::selection{background-color:transparent}footer{padding:40px 0 60px 100px;background-color:#f5f5f5}footer p{margin:0}footer .footer-image{height:25px;width:25px;padding-left:25px;float:right}
    </style>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:200,300,400,500,700">
  </head>

  <body>
<amp-analytics type="googleanalytics" id="analytics-ga">
<script type="application/json">
{
  "vars": {
    "account": "UA-67833617-1"
  },
  "triggers": {
    "trackPageview": {
      "on": "visible",
      "request": "pageview"
    }
  }
}
</script>
</amp-analytics>

    <header class="fixed">
      <div class="wrap">
        <div class="container">
          <div class="clearfix">
          <div class="left-nav">
              <a href="https://ampproject.org" class="tab header-title">
                Accelerated
                Mobile
                Pages
                Project
              </a>
            </div>
            <div class="right alt">
              <a class="tab desktop" href="/docs/support/faqs.html">
                FAQ
              </a>
              <a class="tab desktop" href="https://amphtml.wordpress.com">
                Blog
              </a>
              <a class="tab desktop" href="https://github.com/ampproject/amphtml">
                GitHub
              </a>
              <a class="tab desktop" href="/docs/get_started/about-amp.html">
                Docs
              </a>
              <a class="tab hamburger" id="menu-button" href="">&#x2261;</a>
            </div>
          </div>
        </div>
      </div>
    </header>


    <div class="wrap">
      <div class="container main">
        
        <nav>
          <ul>
            
            

            <li>
            <h2>Get Started</h2>

            <ul>
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/about-amp.html">What Is AMP?</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/create_page.html">Create Your First AMP Page</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/get_started/technical_overview.html">How AMP Speeds Up Performance</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Guides</h2>

            <ul>
              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/responsive_amp.html">Create Responsive AMP Pages</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/amp_replacements.html">Include Iframes and Media</a>
                

                

                </li>
                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/third_party_components.html">Include Third-Party Content</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/discovery.html">Make Your Page Discoverable</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/validate.html">Validate AMP Pages</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/guides/analytics_amp.html">Configure Analytics</a>
                

                
                  <ul>
                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/analytics_basics.html">Analytics&#58; the Basics</a>
                    </li>
                    
                    

                  

                    
                    

                    
                    

                  

                    
                    

                    
                    

                  

                    
                    

                    
                    

                  

                    
                    

                    
                    
                    
                    
                    <li>
                      <a href="/docs/guides/analytics/deep_dive_analytics.html">Deep Dive into AMP Analytics</a>
                    </li>
                    
                    

                  

                    
                    

                    
                    

                  

                    
                    

                    
                    
                    
                    
                    <li class="current">
                      <span>Use Cases</span>
                    </li>
                    
                    

                  

                    
                    

                    
                    

                  

                    
                    

                    
                    

                  

                    
                    

                    
                    

                  

                    
                    

                    
                    

                  
                  </ul>
                

                </li>
                

              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Reference</h2>

            <ul>
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/experimental.html">Experimental Components</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/reference/validation_errors.html">AMP Validation Errors</a>
                

                

                </li>
                

              
              
            </ul>
            </li>
            
            
            

            <li>
            <h2>Support</h2>

            <ul>
              
              
              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/faqs.html">FAQ</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://amphtml.wordpress.com">Blog</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="https://stackoverflow.com/questions/tagged/amp-html">Stack Overflow</a>
                

                

                </li>
                

              
              
              

                
                

                
                
                <li>
                  <a href="/docs/support/contribute.html">How to Contribute</a>
                

                

                </li>
                

              
              
            </ul>
            </li>
            
            
            
            
          </ul>
        </nav>
        

        <div class="content">
          <!-- article -->
          <article class="post">

    <h1 class="post-title">Use Cases</h1>

	<div class="post-content">
	    <p>This guide provides a set of common use cases for tracking user engagement:</p>

<ul id="markdown-toc">
  <li><a href="#tracking-page-views" id="markdown-toc-tracking-page-views">Tracking page views</a>    <ul>
      <li><a href="#using-amp-pixel" id="markdown-toc-using-amp-pixel">Using amp-pixel</a></li>
      <li><a href="#using-amp-analytics---no-vendor" id="markdown-toc-using-amp-analytics---no-vendor">Using amp-analytics - no vendor</a></li>
      <li><a href="#using-amp-analytics---googleanalytics" id="markdown-toc-using-amp-analytics---googleanalytics">Using amp-analytics - googleanalytics</a></li>
    </ul>
  </li>
  <li><a href="#tracking-page-clicks" id="markdown-toc-tracking-page-clicks">Tracking page clicks</a>    <ul>
      <li><a href="#sending-data-to-specified-url" id="markdown-toc-sending-data-to-specified-url">Sending data to specified URL</a></li>
      <li><a href="#sending-data-to-google-analytics" id="markdown-toc-sending-data-to-google-analytics">Sending data to Google Analytics</a></li>
    </ul>
  </li>
  <li><a href="#tracking-scrolling" id="markdown-toc-tracking-scrolling">Tracking scrolling</a></li>
  <li><a href="#tracking-social-interactions" id="markdown-toc-tracking-social-interactions">Tracking social interactions</a>    <ul>
      <li><a href="#sending-data-to-specified-url-1" id="markdown-toc-sending-data-to-specified-url-1">Sending data to specified URL</a></li>
      <li><a href="#sending-data-to-google-analytics-1" id="markdown-toc-sending-data-to-google-analytics-1">Sending data to Google Analytics</a></li>
    </ul>
  </li>
</ul>

<p>Want to add a use case? 
<a href="https://github.com/ampproject/docs/issues/new">Let us know.</a></p>

<p>You can also contribute your own use cases;
see <a href="https://www.ampproject.org/docs/support/contribute.html">How to Contribute</a>.</p>

<h2 id="tracking-page-views">Tracking page views</h2>

<p>Learn how to track page views using <code class="highlighter-rouge">amp-pixel</code> and <code class="highlighter-rouge">amp-analytics</code>.</p>

<h3 id="using-amp-pixel">Using amp-pixel</h3>

<p>Send pageview data to a specified URL using
<a href="/docs/reference/amp-pixel.html">amp-pixel</a>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-pixel</span> <span class="na">src=</span><span class="s">"https://foo.com/pixel?"</span><span class="nt">&gt;&lt;/amp-pixel&gt;</span></code></pre></figure>

<h3 id="using-amp-analytics---no-vendor">Using amp-analytics - no vendor</h3>

<p>Send pageview data to a specified URL using
<a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"pageview"</span><span class="err">:</span> <span class="s2">"https://example.com/analytics?url=${canonicalUrl}&amp;title=${title}&amp;acct=${account}"</span>
  <span class="p">},</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"ABC123"</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackPageview"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"visible"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"pageview"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<h3 id="using-amp-analytics---googleanalytics">Using amp-analytics - googleanalytics</h3>

<p>Send pageview data to Google Analytics
(see also <a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/#page_tracking">Page tracking in Google Analytics</a>):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics</span> <span class="na">type=</span><span class="s">"googleanalytics"</span> <span class="na">id=</span><span class="s">"analytics1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"UA-XXXXX-Y"</span>  <span class="c1">// Replace with your property ID.</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackPageview"</span><span class="err">:</span> <span class="p">{</span>  <span class="c1">// Trigger names can be any string. trackPageview is not a required name.</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"visible"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"pageview"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<h2 id="tracking-page-clicks">Tracking page clicks</h2>

<p>Learn how to track page clicks using
<a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>,
sending event data to a specified URL, and to
<a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/">Google Analytics</a>.</p>

<h3 id="sending-data-to-specified-url">Sending data to specified URL</h3>

<p>The following example uses the <code class="highlighter-rouge">selector</code> attribute to send a <code class="highlighter-rouge">click</code> event
to the specified URL everytime a user clicks on a link (<code class="highlighter-rouge">&lt;a href&gt;</code>):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"event"</span><span class="err">:</span> <span class="s2">"https://example.com/analytics?eid=${eventId}&amp;elab=${eventLabel}&amp;acct=${account}"</span>
  <span class="p">},</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"ABC123"</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackAnchorClicks"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"click"</span><span class="p">,</span>
      <span class="s2">"selector"</span><span class="err">:</span> <span class="s2">"a"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"event"</span><span class="p">,</span>
      <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"eventId"</span><span class="err">:</span> <span class="s2">"42"</span><span class="p">,</span>
        <span class="s2">"eventLabel"</span><span class="err">:</span> <span class="s2">"clicked on a link"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<h3 id="sending-data-to-google-analytics">Sending data to Google Analytics</h3>

<p>The following example uses the <code class="highlighter-rouge">selector</code> attribute of the <code class="highlighter-rouge">trigger</code>
to send a <code class="highlighter-rouge">click</code> event to Google Analytics when a particular element is clicked
(see also
<a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/#event_tracking">AMP event tracking in Google Analytics</a>):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics</span> <span class="na">type=</span><span class="s">"googleanalytics"</span> <span class="na">id=</span><span class="s">"analytics3"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"UA-XXXXX-Y"</span>  <span class="c1">// Replace with your property ID.</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackClickOnHeader"</span> <span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"click"</span><span class="p">,</span>
      <span class="s2">"selector"</span><span class="err">:</span> <span class="s2">"#header"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"event"</span><span class="p">,</span>
      <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"eventCategory"</span><span class="err">:</span> <span class="s2">"ui-components"</span><span class="p">,</span>
        <span class="s2">"eventAction"</span><span class="err">:</span> <span class="s2">"header-click"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<h2 id="tracking-scrolling">Tracking scrolling</h2>

<p>Track page scrolling using <a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>.
The following example uses the <code class="highlighter-rouge">scrollspec</code> attribute to send a <code class="highlighter-rouge">scroll</code> event
to the specified URL when page is scrolled vertically by 25%, 50% and 90%.
The event also fires when the page is horizontally scrolled
to 90% of <code class="highlighter-rouge">scroll</code> width:</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"event"</span><span class="err">:</span> <span class="s2">"https://example.com/analytics?eid=${eventId}&amp;elab=${eventLabel}&amp;acct=${account}"</span>
  <span class="p">},</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"ABC123"</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"scrollPings"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"scroll"</span><span class="p">,</span>
      <span class="s2">"scrollSpec"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"verticalBoundaries"</span><span class="err">:</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">90</span><span class="p">],</span>
        <span class="s2">"horizontalBoundaries"</span><span class="err">:</span> <span class="p">[</span><span class="mi">90</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<h2 id="tracking-social-interactions">Tracking social interactions</h2>

<p>Learn how to track social interactions using
<a href="/docs/reference/extended/amp-analytics.html">amp-analytics</a>,
sending event data to a specified URL, and to
<a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/">Google Analytics</a>.</p>

<h3 id="sending-data-to-specified-url-1">Sending data to specified URL</h3>

<p>The following example uses the <code class="highlighter-rouge">selector</code> attribute to send a <code class="highlighter-rouge">click</code> event
to the specified URL everytime a user clicks on a tweet (<code class="highlighter-rouge">#tweet-link</code>):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"requests"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"event"</span><span class="err">:</span> <span class="s2">"https://example.com/analytics?eid=${eventId}&amp;elab=${eventLabel}&amp;acct=${account}"</span>
  <span class="p">},</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"ABC123"</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackClickOnTwitterLink"</span><span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"click"</span><span class="p">,</span>
      <span class="s2">"selector"</span><span class="err">:</span> <span class="s2">"#tweet-link"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"event"</span><span class="p">,</span>
      <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
        <span class="s2">"eventId"</span><span class="err">:</span> <span class="s2">"43"</span><span class="p">,</span>
        <span class="s2">"eventLabel"</span><span class="err">:</span> <span class="s2">"clicked on a tweet link"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

<h3 id="sending-data-to-google-analytics-1">Sending data to Google Analytics</h3>

<p>The following example uses the <code class="highlighter-rouge">selector</code> attribute of the <code class="highlighter-rouge">trigger</code>
to send an event when a particular social button is clicked
(see also
<a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/#social_interactions">AMP social interactions tracking in Google Analytics</a>):</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;amp-analytics</span> <span class="na">type=</span><span class="s">"googleanalytics"</span> <span class="na">id=</span><span class="s">"analytics4"</span><span class="nt">&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"application/json"</span><span class="nt">&gt;</span>
<span class="p">{</span>
  <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"account"</span><span class="err">:</span> <span class="s2">"UA-XXXXX-Y"</span> <span class="c1">// Replace with your property ID.</span>
  <span class="p">},</span>
  <span class="s2">"triggers"</span><span class="err">:</span> <span class="p">{</span>
    <span class="s2">"trackClickOnTwitterLink"</span> <span class="err">:</span> <span class="p">{</span>
      <span class="s2">"on"</span><span class="err">:</span> <span class="s2">"click"</span><span class="p">,</span>
      <span class="s2">"selector"</span><span class="err">:</span> <span class="s2">"#tweet-link"</span><span class="p">,</span>
      <span class="s2">"request"</span><span class="err">:</span> <span class="s2">"social"</span><span class="p">,</span>
      <span class="s2">"vars"</span><span class="err">:</span> <span class="p">{</span>
          <span class="s2">"socialNetwork"</span><span class="err">:</span> <span class="s2">"twitter"</span><span class="p">,</span>
          <span class="s2">"socialAction"</span><span class="err">:</span> <span class="s2">"tweet"</span><span class="p">,</span>
          <span class="s2">"socialTarget"</span><span class="err">:</span> <span class="s2">"https://www.examplepetstore.com"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/amp-analytics&gt;</span></code></pre></figure>

	</div>

</article>

          <!-- /article -->
        </div>
      </div>
    </div>

    <footer>
      <div class="container">
        <div class="row">
          <div class="twelve columns">
          </div>
        </div>
    </footer>
    <script>
    document.getElementById('menu-button').onclick = function() {
      document.getElementsByTagName('header')[0].classList.toggle('menu-open');
      document.querySelector('div.content').classList.toggle('menu-open');
      document.querySelector('nav').classList.toggle('menu-open');
      return false;
    };
    </script>
  </body>
</html>
